## 分块查找

### 基本思想

1. 将查找表分成若干个子块. 块内的元素可以无序, 但是块之间是有序的, 即第一个块中的最大关键字小于第二个块中的所有记录的关键字, 第二个块中的最大关键字小于第三个块中所有记录的关键字, 以此类推
2. 建立一个索引表, 索引表中的每个元素含有各块的最大关键字和各块中第一个元素的地址, 索引表按照关键字有序排列

### 特点

块内无序, 块间有序

### 索引顺序查找的算法

1. 在索引表中确定待查记录所属的分支(可顺序, 可折半)
2. 在块内顺序查找
3. 若索引表中不包含目标关键字, 则折半查找索引表最终停在low>high, 要在low所指分块中查找(原因: 最终low左边一定小于目标关键字, high右边一定大于目标关键字. 而分块存储的索引表中保存的是各个分块的最大关键字), 如果low超出表的范围, 说明查找失败

### 查找效率分析

- 查找成功的情况可以通过模拟算法运行自己推
- 查找失败的情况更加复杂, 一般不考
- 设索引查找和块内查找的平均查找长度分别为LI和LS, 则分块查找的平均查找长度为ASL=LI+LS
  - 用顺序表查找索引表, 则LI=(1+2+...+b)/b=(b+1)/2, LS=(1+2+...+s)/s=(s+1)/2, 则ASL=(s^2+2s+n)/(2s), 当s=sqrt(n)时, ASL_min=sqrt(n)+1(求导得出)
  - 用折半查找查找索引表, 不重要
