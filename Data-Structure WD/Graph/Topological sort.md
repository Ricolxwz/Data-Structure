## 拓扑排序

### AOV网

若用DAG图表示一个工程, 其顶点表示活动, 用有向边<vi, vj>表示活动vi必须先于活动vj进行的这样一种关系. 将这种有向图称为顶点表示活动的网络, 记为AOV网

### 拓扑排序的含义

满足下列条件时, 称为该图的一个拓扑排序:
 - 每个顶点只出现一次
 - 若顶点A在序列中排在顶点B的前面, 则在图中不存在从顶点B到顶点A的路径

每个AOV网有一个或者多个拓扑排序序列

### 拓扑排序的算法

1. 从AOV网中选择一个没有前驱的顶点并输出
2. 从网中删除该顶点和所有以它为起点的有向边
3. 重复1和2的操作直到当前的AOV网为空或当前网中不存在无前驱的顶点为止. 后者说明有向图中一定存在环
   
### 复杂度分析

时间复杂度
 - 采用邻接表存储: O(|V|+|E|)
 - 采用邻接矩阵存储: O(|V|^2)

### 逆拓扑排序

1. 从AOV网中选择一个没有后继的顶点并输出
2. 从网中删除该顶点和所有以它为终点的有向边
3. 重复1和2直到当前的AOV网为空

### 用拓扑算法处理AOV网时, 应注意的问题

- 入度为0的顶点, 即没有前驱活动或者前驱活动已经完成的顶点, 工程可以从这个顶点所代表的活动开始或者继续
- 若一个顶点有多个后继, 则拓扑排序的结果通常不唯一; 但若各个顶点已经排在一个线性有序的序列中, 每个顶点有唯一的前驱后继关系, 则拓扑排序的结果是唯一的
- 由于AOV网中各顶点的地位平等, 每个顶点编号都是人为的, 因此可以按拓扑排序的结构重新编号, 生成AOV网的新的邻接存储矩阵, 这种邻接矩阵可以是三角矩阵; 但对于一般的图来说, 若其邻接矩阵是三角矩阵, 则存在拓扑序列, 反之不一定成立